{% extends 'Back_Base.html.twig' %}

{% block title %}Détails de l'offre{% endblock %}

{% block body %}
<div class="main-panel">
  <div class="content">
    <div class="container mt-4">
      <div class="card shadow-sm">
        <div class="card-header bg-primary text-white">
          <h4 class="mb-0">Détails de l'offre : {{ offer.title }}</h4>
        </div>

        <div class="card-body">
          <table class="table table-striped table-bordered">
            <tbody>
              <tr>
                <th class="w-25">ID</th>
                <td>{{ offer.id }}</td>
              </tr>
              <tr>
                <th>Titre</th>
                <td>{{ offer.title }}</td>
              </tr>
              <tr>
                <th>Description</th>
                <td>{{ offer.description }}</td>
              </tr>
              <tr>
                <th>Lieu</th>
                <td>{{ offer.location }}</td>
              </tr>
              <tr>
                <th>Type de contrat</th>
                <td>{{ offer.contractType.value }}</td>
              </tr>
              <tr>
                <th>Salaire minimum</th>
                <td>{{ offer.salaryMin }} €</td>
              </tr>
              <tr>
                <th>Salaire maximum</th>
                <td>{{ offer.salaryMax }} €</td>
              </tr>
              <tr>
                <th>Département</th>
                <td>{{ offer.department }}</td>
              </tr>
              <tr>
                <th>Date de publication</th>
                <td>{{ offer.datetimeImmutable ? offer.datetimeImmutable|date('d/m/Y H:i') : 'Non renseignée' }}</td>
              </tr>
              <tr>
                <th>Active</th>
                <td>
                  {% if offer.isActive %}
                    <span class="badge bg-success">Oui</span>
                  {% else %}
                    <span class="badge bg-danger">Non</span>
                  {% endif %}
                </td>
              </tr>
            </tbody>
          </table>

          <div class="d-flex justify-content-between mt-4">
            <div>
              <a href="{{ path('app_job_offer_index') }}" class="btn btn-outline-secondary">
                <i class="bi bi-arrow-left"></i> Retour à la liste
              </a>
            </div>

            <div>
              <a href="{{ path('app_job_offer_edit', { id: offer.id }) }}" class="btn btn-warning me-2">
                <i class="bi bi-pencil-square"></i> Modifier
              </a>

              {{ include('job_offer/_delete_form.html.twig', { offer: offer }) }}
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
