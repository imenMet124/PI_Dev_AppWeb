/*!
 Splitter - a jQuery UI based widget for dynamically dividing the available space for two sub regions horizontally or vertically.
 Copyright (c) 2010, 2017, Oracle and/or its affiliates. All rights reserved.
 */
!function(i,t,e){"use strict";var s=".a-Splitter",o="a-Splitter-barH",a="a-Splitter-barV",r=".a-Splitter-barH,."+a,n="a-Splitter-thumb",l="."+n,h="u-RTL",p="is-active",d="is-collapsed",c="is-disabled",f="button",m="title";i.widget("apex.splitter",{version:"5.0",widgetEventPrefix:"splitter",options:{orientation:"horizontal",positionedFrom:"begin",minSize:60,maxSize:500,position:100,noCollapse:!1,dragCollapse:!0,collapsed:!1,snap:!1,inc:10,realTime:!1,iframeFix:!1,restoreText:null,collapseText:null,title:null,change:null},lastPos:null,bar$:null,before$:null,after$:null,horiz:!0,fromEnd:!1,barSize:1,_create:function(){var o,a,r,n,d,c,m=this,b=this.options,u=this.element,z=t.htmlBuilder(),S=i.ui.keyCode,g=!!b.snap&&[1*b.snap,1*b.snap],x=b.noCollapse?0:1,C=null;if(2!==u.children().length)throw new Error("Splitter must have exactly two children.");if("horizontal"!==b.orientation&&"vertical"!==b.orientation)throw new Error("Orientation bad value");if("begin"!==b.positionedFrom&&"end"!==b.positionedFrom)throw new Error("PositionedFrom bad value");if(b.minSize<x&&(b.minSize=x,e.warn("Option minSize adjusted")),this.horiz="horizontal"===b.orientation,this.fromEnd="end"===b.positionedFrom,c=this.horiz?"left":"top",this.before$=u.children().eq(0),this.after$=u.children().eq(1),u.addClass("a-Splitter resize"),"rtl"===u.css("direction")&&(u.addClass(h),this.horiz&&(this.before$=u.children().eq(1),this.after$=u.children().eq(0),this.fromEnd=!this.fromEnd)),u.parent(s).length>0||this.before$.is(s)||this.after$.is(s))throw new Error("Child of splitter cannot be a splitter");this.before$[0].id||(this.before$[0].id=(u[0].id||"splitter")+"_first"),this.after$[0].id||(this.after$[0].id=(u[0].id||"splitter")+"_second"),b.position<b.minSize&&(b.position=b.minSize),b.position>b.maxSize&&(b.position=b.maxSize),this.lastPos=b.position,b.snap&&(b.inc=b.snap),this._renderBar(z),this.bar$=i(z.toString()).insertAfter(u.children().eq(0)),this.horiz?this.barSize=this.bar$.width():this.barSize=this.bar$.height(),u.css({position:"relative"}).children().css({position:"absolute"}),this.horiz?(o=this.bar$.position()[c],a=0,r="e-resize",this.fromEnd?(n=S.LEFT,d=S.RIGHT):(n=S.RIGHT,d=S.LEFT)):(o=0,a=this.bar$.position()[c],r="s-resize",this.fromEnd?(n=S.UP,d=S.DOWN):(n=S.DOWN,d=S.UP)),this.bar$.css({left:o,top:a}).draggable({axis:m.horiz?"x":"y",containment:"parent",cancel:f,cursor:r,iframeFix:b.iframeFix,grid:g,scroll:!1,drag:function(i,t){var e;b.realTime&&(e=t.position[c],m.fromEnd&&(e=(m.horiz?u.width():u.height())-e-m.barSize),m._setPos(e,!1))},start:function(i,t){m.bar$.addClass(p)},stop:function(i,t){var e=t.position[c];m.bar$.removeClass(p),m.fromEnd&&(e=(m.horiz?u.width():u.height())-e-m.barSize),m._setPos(e,!1)}}).click((function(){i(this).find(l).focus()})).find(f).click((function(){m._setPos(m._getPos(),!m._isCollapsed())})),apex.widget.util.TouchProxy.addTouchListeners(this.bar$[0]),this.bar$.find(l).focus((function(){i(this).parent().addClass("is-focused is-active")})).blur((function(){i(this).parent().removeClass("is-focused is-active")})).keydown((function(i){var t,e,s=i.keyCode,o=null,a=!1;if(s!==d||b.collapsed?s===n&&((o=m._getPos())<0?(b.noCollapse||(a=!0),o=0):o+=b.inc,t=m._getMaxPos(),o>t&&(o=t)):(o=m._getPos(),(o-=b.inc)<b.minSize&&b.noCollapse&&(o=b.minSize),o>b.maxSize&&b.noCollapse&&(o=b.maxSize),o<0&&(o=0)),null!==o)return e=o,m.fromEnd&&(e=(m.horiz?u.width():u.height())-e-m.barSize),m.bar$.css(c,e),C&&(clearTimeout(C),C=null),C=setTimeout((function(){C=null,m._setPos(o,a)}),100),!1})),this._on(!0,this._eventHandlers),b.disabled&&this._setOption("disabled",b.disabled),this.refresh()},_eventHandlers:{resize:function(e){var s,o,a,r,n=this.options,l=this.element;if(e.target===l[0]){if(s=l.height(),o=l.width(),0===s||0===o)throw new Error("Splitter needs to be in a component with size");r=l.offset(),this.horiz?(l.children().each((function(){t.setOuterHeight(i(this),s)})),this.fromEnd?(a=[r.left+n.minSize,r.top,r.left+o-this.barSize,r.top+s],n.dragCollapse&&!n.noCollapse||(a[0]+r.left+n.maxSize<o?(a[0]+=r.left+n.maxSize,a[2]-=n.minSize):(a[0]+=o-r.left-n.maxSize,a[2]=o+n.minSize/o))):(a=[r.left,r.top,r.left+n.maxSize,r.top+s],n.dragCollapse&&!n.noCollapse||(a[0]+=n.minSize+1))):(l.children().each((function(){t.setOuterWidth(i(this),o)})),this.fromEnd?(a=[r.left,r.top+n.minSize,r.left+o,r.top+s-this.barSize],n.dragCollapse&&!n.noCollapse||(a[3]-=n.minSize,a[2]+=n.maxSize)):(a=[r.left,r.top,r.left+o,r.top+n.maxSize],n.dragCollapse&&!n.noCollapse||(a[1]+=n.minSize+1))),this._setPos(n.position,n.collapsed),this.bar$.draggable("option","containment",a),l.children(".resize").filter(":visible").trigger("resize"),e.stopPropagation()}}},_destroy:function(){this.element.removeClass("a-Splitter is-disabled u-RTL resize").children(r).remove(),this.element.children().css("position","")},refresh:function(){this.element.is(":visible")&&this.element.trigger("resize")},_setOption:function(t,s){var o,a,r;if(!this.options.noCollapse||"collapsed"!==t&&"restoreText"!==t&&"collapseText"!==t){if("orientation"===t||"positionedFrom"===t||"noCollapse"===t)throw new Error("Readonly option: "+t);"position"===t?this._setPos(1*s,this._isCollapsed()):"collapsed"===t?this._setPos(this._getPos(),!!s):"snap"===t?(s=!!s&&1*s,this.options.snap=s,o=!!s&&[s,s],this.bar$.draggable("option","grid",o),s&&(this.options.inc=s)):"inc"===t?(s*=1,this.options.snap&&(s=this.options.snap),this.options.inc=s):"disabled"===t?(this.options.disabled=s,r=this.bar$.find(l),this.options.noCollapse?s?r.removeAttr("tabindex"):r.attr("tabindex","0"):(r[0].disabled=s,s?r.attr(m,this.options.title):r.attr(m,this.options.collapsed?this.options.restoreText:this.options.collapseText)),this.bar$.draggable("option","disabled",s),s?(this.element.addClass(c),this.bar$.addClass(c),r.attr("aria-disabled",!0)):(r.removeAttr("aria-disabled"),this.bar$.removeClass(c),this.element.removeClass(c))):"minSize"===t?(s<(a=this.options.noCollapse?0:1)&&(s=a,e.warn("Option minSize adjusted")),this.options.minSize=s):i.Widget.prototype._setOption.apply(this,arguments),"title"===t?(this.bar$.attr(m,s),(this.options.noCollapse||this.options.disabled)&&this.bar$.find(l).attr(m,s)):"restoreText"===t&&this.options.collapsed&&!this.options.disabled?this.bar$.find(f).attr(m,s):"collapseText"!==t||this.options.collapsed||this.options.disabled?"iframeFix"===t?this.bar$.draggable("option","iframeFix",s):"dragCollapse"===t&&this.refresh():this.bar$.find(f).attr(m,s)}else e.warn("Setting "+t+" option on noCollapse splitter has no effect.")},_renderBar:function(i){var t=this.options,e=this.horiz?o:a;this.fromEnd&&(e+=" a-Splitter--end"),t.noCollapse&&(t.collapsed=!1),t.collapsed&&(e+=" is-collapsed"),i.markup("<div").attr("class",e).optionalAttr(m,t.title).markup("><div></div>"),t.noCollapse?i.markup("<span role='separator' class='"+n+"' tabindex='0' aria-expanded='true'").optionalAttr(m,t.title).markup("></span>"):i.markup("<button role='separator' class='"+n+"' type='button'").attr("aria-expanded",!t.collapsed).optionalAttr(m,t.collapsed?t.restoreText:t.collapseText).markup("></button>"),i.markup("</div>")},_getPos:function(){var i=this.element,t=this.horiz?"left":"top",e=this.bar$.position()[t];return this.fromEnd&&(e=(this.horiz?i.width():i.height())-e-this.barSize),e},_isCollapsed:function(){return this.bar$.hasClass(d)},_getMaxPos:function(){var i=this.options,t=this.element;return this.horiz&&void 0===i.maxSize?t.width()-this.barSize-i.minSize:void 0!==i.maxSize?i.maxSize:t.height()-this.barSize-i.minSize},_setPos:function(i,e){var s,o,a,r,n,h,p=this.options,c=this.element,f=this.horiz?"left":"top",b=this._isCollapsed(),u=this.lastPos;p.noCollapse&&(e=!1),b&&!e&&(i=this.lastPos)<p.minSize&&(i=p.minSize),i<p.minSize?p.noCollapse?i=p.minSize:e=!0:i>p.maxSize?p.noCollapse&&(i=p.maxSize):i>(s=this._getMaxPos())&&(i=s),p.noCollapse&&i<=0&&(i=0),i>0&&(this.lastPos=i),e&&(i=0,p.position=0),o=this.horiz?c.width():c.height(),n=i,this.fromEnd&&(n=o-i-this.barSize),this.bar$.css(f,n),h=this.bar$.find(l),this.fromEnd?(a=this.after$,r=o-n-this.barSize):(a=this.before$,r=n),e?(this.bar$.addClass(d),p.disabled||h.attr("aria-expanded",!1).attr(m,p.restoreText),a.hide()):(p.noCollapse?a.toggle(0!==i):(this.bar$.removeClass(d),p.noCollapse||p.disabled||h.attr("aria-expanded",!0).attr(m,p.collapseText),a.show()),this.horiz?t.setOuterWidth(a,r):t.setOuterHeight(a,r)),this.fromEnd?(a=this.before$,r=n):(a=this.after$,r=o-n-this.barSize),this.horiz?t.setOuterWidth(a,r):t.setOuterHeight(a,r),p.noCollapse&&a.toggle(0!==r),this.after$.css(f,n+this.barSize+"px"),this.before$.css(f,0),(!e&&i!==u||b!==e)&&(p.collapsed=e,p.position=i,c.children(".resize").filter(":visible").trigger("resize"),this._trigger("change",{},{position:p.position,collapsed:p.collapsed,lastPosition:this.lastPos}))}});var b=0,u=0;i.apex.splitter.nextSplitter=function(t){var e,s,o,n=t?-1:1,h=i(document.activeElement);if(!(b>0||u>0))return(o=(s=i(".a-Splitter >.a-Splitter-barH,.a-Splitter >."+a).filter(":visible").not(".ui-state-disabled").add(h)).index(h))>=0&&(o+=n,t&&h.parent().is(r)&&(o+=n),o>=0&&o<s.length&&(e=s.eq(o))),(e&&0===e.length&&!h.parent().is(r)||h.is("html,body"))&&(e=i(".a-Splitter >.a-Splitter-barH,.a-Splitter >."+a).filter(":visible").not(".ui-state-disabled")[t?"last":"first"]()),e&&e.length>0?(e.children(l).focus(),!0):void 0},i((function(){i(document.body).on("menubeforeopen",(function(){u+=1})).on("menuafterclose",(function(){u-=1})).on("dialogopen",(function(){b+=1})).on("dialogclose",(function(){b-=1}))})),apex.message&&apex.message.addVisibilityCheck((function(t){var e=i("#"+t);e.parents(".a-Splitter").each((function(){e.is(":visible")||i(this).splitter("option","collapsed",!1)}))}))}(apex.jQuery,apex.util,apex.debug);